!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),c=n(3),l=(r=c)&&r.__esModule?r:{default:r};n(6);var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.articles=[],this.lastLoadedArticle=0,this.count=0,this.root=document.querySelector(".articles")}return o(e,[{key:"lazyLoadArticles",value:function(){var e=this;this.getAllArticlesCount(),this.loadOneArticle(this.lastLoadedArticle+1).then(function(){e.assingScrollHandler(),e.assingArrowHandler()}).catch(function(e){return console.log(e)})}},{key:"loadOneArticle",value:function(e){var t=this;return new Promise(function(n,r){(0,i.fetchData)("http://localhost:3001/articles/"+e).then(function(e){var r=JSON.parse(e);t.lastLoadedArticle&&t.articles.find(function(e){return e.id===r.id})||(t.articles.push(r),t.lastLoadedArticle++,t.render([r]),t.checkOutNextLoad(),n(r))}).catch(function(e){return r(e)})})}},{key:"getAllArticlesCount",value:function(){var e=this;(0,i.fetchData)("http://localhost:3001/articles/count").then(function(t){e.count=JSON.parse(t).count}).catch(function(e){return console.log(e)})}},{key:"checkOutNextLoad",value:function(){var e=document.querySelector(".footer"),t=window.pageYOffset,n=e.getBoundingClientRect().top+t;document.documentElement.clientHeight+t+50>n&&this.lastLoadedArticle<this.count&&this.loadOneArticle(this.lastLoadedArticle+1)}},{key:"assingScrollHandler",value:function(){var e=this;document.querySelector("body").onscroll=function(){return e.checkOutNextLoad()}}},{key:"assingArrowHandler",value:function(){var e=document.querySelector(".scroll").lastElementChild;setTimeout(function(){var t=document.querySelectorAll(".article__title")[0],n=t&&t.getBoundingClientRect().top+window.pageYOffset;e.onclick=function(){return n&&window.scrollTo(0,n)}},100)}},{key:"loadAllArticles",value:function(){var e=this;(0,i.fetchData)("http://localhost:3001/articles").then(function(t){e.articles=JSON.parse(t),e.render(e.articles),e.assingArrowHandler()}).catch(function(e){return console.log(e)})}},{key:"render",value:function(e){for(var t=l.default.replace(/>\s+?</g,"><"),n=0;n<e.length;n++){var r=e[n],o=r.img,i=r.date,c=r.title,a=r.description,s=r.video;this.root.insertAdjacentHTML("beforeEnd",t);var u=this.root.lastElementChild;if(u.querySelector("img").src="../assets/images/"+o,u.querySelector(".article__date").textContent=i,u.querySelector(".article__title").textContent=c,u.querySelector(".article__text").textContent=a,!s){var d=u.querySelector(".article__video");d.innerHTML='<img src="" alt="movie" />',d.firstElementChild.src="../assets/images/"+o}}}}]),e}();t.default=a},function(e,t){},function(e,t,n){e.exports=n.p+"../index.html"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default='<div class="article"> \n               <section class="article__poster">\n                   <img src=\'\' alt=\'poster\' />\n               </section>\n               <section class="article__post">\n                   <div class="article__date"></div>\n                   <h2 class="article__title"></h2>\n                   <div class="article__text"></div>\n                   <section class="article__video"></section>\n               </section>   \n           </div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchData=function(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("get",e,!0),r.send(),r.onload=function(){if(200===r.status)t(r.response);else{var e=new Error(r.statusText);n(e)}},r.onerror=function(){return n(new Error("Network Error"))}})}},function(e,t,n){"use strict";n(2),n(1);var r,o=n(0);(new((r=o)&&r.__esModule?r:{default:r}).default).lazyLoadArticles()},function(e,t){}]);